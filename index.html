<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baccarat Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #2e8b57;
            color: #fff;
        }
        .container {
            margin-top: 50px;
        }
        .bet-button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            color: #fff;
            background-color: #4CAF50;
        }
        .hands-container {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 20px;
        }
        .hand {
            font-size: 20px;
        }
        .card-images {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-top: 10px;
        }
        .card-image {
            width: 40px; /* Make the card images smaller */
            height: auto;
        }
        #result {
            margin: 20px;
            font-size: 22px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Baccarat Game</h1>
        <div>
            <button class="bet-button" onclick="placeBet('Player')">Bet on Player</button>
            <button class="bet-button" onclick="placeBet('Banker')">Bet on Banker</button>
            <button class="bet-button" onclick="placeBet('Tie')">Bet on Tie</button>
        </div>
        <div id="result"></div>
        <div class="hands-container">
            <div class="hand">
                <div id="player-hand">Player Hand:</div>
                <div id="player-cards" class="card-images"></div>
            </div>
            <div class="hand">
                <div id="banker-hand">Banker Hand:</div>
                <div id="banker-cards" class="card-images"></div>
            </div>
        </div>
    </div>

    <script>
        let deck = [];
        let playerHand = [];
        let bankerHand = [];
        let playerBet = '';

        function initializeDeck() {
            deck = [];
            const suits = ['hearts', 'diamonds', 'clubs', 'spades'];
            const values = [
                { name: 'ace', value: 1 }, { name: '2', value: 2 }, { name: '3', value: 3 },
                { name: '4', value: 4 }, { name: '5', value: 5 }, { name: '6', value: 6 },
                { name: '7', value: 7 }, { name: '8', value: 8 }, { name: '9', value: 9 },
                { name: '10', value: 10 }, { name: 'jack', value: 10 },
                { name: 'queen', value: 10 }, { name: 'king', value: 10 }
            ];
            for (let suit of suits) {
                for (let value of values) {
                    deck.push({
                        value: value.value,
                        suit: suit,
                        image: `cards/${value.name}_of_${suit}.png`
                    });
                }
            }
            shuffleDeck();
        }

        function shuffleDeck() {
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
        }

        function placeBet(bet) {
            playerBet = bet;
            startGame();
        }

        function startGame() {
            initializeDeck();
            playerHand = [];
            bankerHand = [];

            document.getElementById("player-cards").innerHTML = '';
            document.getElementById("banker-cards").innerHTML = '';
            document.getElementById("result").innerHTML = '';

            // Reveal player and banker cards with delay
            drawAndRevealCard(playerHand, "player-cards", 0);
            drawAndRevealCard(bankerHand, "banker-cards", 1000);
            drawAndRevealCard(playerHand, "player-cards", 2000);
            drawAndRevealCard(bankerHand, "banker-cards", 3000);

            // Show result after all cards are revealed
            setTimeout(() => {
                const playerScore = calculateScore(playerHand);
                const bankerScore = calculateScore(bankerHand);

                let result = determineWinner(playerScore, bankerScore);
                document.getElementById("result").innerHTML = result;
            }, 4000);
        }

        function drawAndRevealCard(hand, elementId, delay) {
            setTimeout(() => {
                const card = drawCard();
                hand.push(card);

                // Create an img element for the card
                const cardImage = document.createElement("img");
                cardImage.src = card.image;
                cardImage.className = "card-image";

                document.getElementById(elementId).appendChild(cardImage);
            }, delay);
        }

        function drawCard() {
            return deck.pop(); // Draws the top card from the shuffled deck
        }

        function calculateScore(hand) {
            let total = hand.reduce((sum, card) => sum + card.value, 0);
            return total % 10; // Baccarat score is the last digit of the sum
        }

        function determineWinner(playerScore, bankerScore) {
            if (playerScore > bankerScore) {
                return 'Player wins!';
            } else if (bankerScore > playerScore) {
                return 'Banker wins!';
            } else {
                return 'It\'s a Tie!';
            }
        }
    </script>
</body>
</html>
